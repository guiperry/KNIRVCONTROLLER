{"version":3,"file":"feasibilitySlice-svOuw6cX.js","sources":["../../src/slices/feasibilitySlice.ts"],"sourcesContent":["export interface FeasibilityReport {\n  exists: boolean;\n  similar: Array<{ id: string; score: number; summary: string }>;\n  feasibilityScore: number;\n  provenance: { generatedBy: string; timestamp: number };\n}\n\n// Simple feasibility slice stub: compare to a small local token set\nexport function createFeasibilitySlice(title: string, description: string, existingItems: Array<{ id: string; text: string }> = []): FeasibilityReport {\n  // naive similarity: common word overlap\n  const norm = (s: string) => s.toLowerCase().replace(/[^a-z0-9\\s]/g, '').split(/\\s+/).filter(Boolean);\n  const descWords = norm(`${title} ${description}`);\n\n  const similar = existingItems.map(item => {\n    const itemWords = norm(item.text || '');\n    const intersection = descWords.filter(w => itemWords.includes(w)).length;\n    const union = new Set([...descWords, ...itemWords]).size || 1;\n    const score = intersection / union;\n    return { id: item.id, score, summary: item.text.slice(0, 140) };\n  }).filter(s => s.score > 0).sort((a,b) => b.score - a.score).slice(0,5);\n\n  const exists = similar.length > 0 && similar[0].score > 0.6;\n  const feasibilityScore = Math.round((1 - (similar.length > 0 ? similar[0].score : 0)) * 100);\n\n  return {\n    exists,\n    similar,\n    feasibilityScore,\n    provenance: { generatedBy: 'feasibility-slice-stub', timestamp: Date.now() }\n  };\n}\n"],"names":["createFeasibilitySlice","title","description","existingItems","norm","s","descWords","similar","item","itemWords","intersection","w","union","score","a","b","exists","feasibilityScore"],"mappings":"AAQO,SAASA,EAAuBC,EAAeC,EAAqBC,EAAqD,CAAA,EAAuB,CAErJ,MAAMC,EAAQC,GAAcA,EAAE,cAAc,QAAQ,eAAgB,EAAE,EAAE,MAAM,KAAK,EAAE,OAAO,OAAO,EAC7FC,EAAYF,EAAK,GAAGH,CAAK,IAAIC,CAAW,EAAE,EAE1CK,EAAUJ,EAAc,IAAIK,GAAQ,CACxC,MAAMC,EAAYL,EAAKI,EAAK,MAAQ,EAAE,EAChCE,EAAeJ,EAAU,OAAOK,GAAKF,EAAU,SAASE,CAAC,CAAC,EAAE,OAC5DC,EAAQ,IAAI,IAAI,CAAC,GAAGN,EAAW,GAAGG,CAAS,CAAC,EAAE,MAAQ,EACtDI,EAAQH,EAAeE,EAC7B,MAAO,CAAE,GAAIJ,EAAK,GAAI,MAAAK,EAAO,QAASL,EAAK,KAAK,MAAM,EAAG,GAAG,CAAA,CAC9D,CAAC,EAAE,UAAYH,EAAE,MAAQ,CAAC,EAAE,KAAK,CAACS,EAAEC,IAAMA,EAAE,MAAQD,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,EAEhEE,EAAST,EAAQ,OAAS,GAAKA,EAAQ,CAAC,EAAE,MAAQ,GAClDU,EAAmB,KAAK,OAAO,GAAKV,EAAQ,OAAS,EAAIA,EAAQ,CAAC,EAAE,MAAQ,IAAM,GAAG,EAE3F,MAAO,CACL,OAAAS,EACA,QAAAT,EACA,iBAAAU,EACA,WAAY,CAAE,YAAa,yBAA0B,UAAW,KAAK,KAAI,CAAE,CAE/E"}