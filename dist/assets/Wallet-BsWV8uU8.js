var Ce=Object.defineProperty;var Ae=(i,t,n)=>t in i?Ce(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var h=(i,t,n)=>Ae(i,typeof t!="symbol"?t+"":t,n);import{j as e,Z as K,v as Re,u as G,c as Te,p as Ie,Q as H,w as J,x as T,S as $e,X as I}from"./ui-BGfAbGa7.js";import{u as We,b as a}from"./vendor-BXttUi4B.js";import{S as f,N as Ee,A as Le,C as Oe,a as X,i as Y,g as _}from"./main-eP8YNJ4I.js";import{Q as De}from"./QRScanner-DcG_q7I6.js";import"./database-Bu7_AzBH.js";import"./blockchain-g7UmDSZc.js";import"./utils-DilR8ceW.js";class Be{constructor(t=this.detectWebSocketURL()){h(this,"ws",null);h(this,"reconnectAttempts",0);h(this,"maxReconnectAttempts",5);h(this,"reconnectDelay",1e3);h(this,"url");h(this,"isConnecting",!1);h(this,"connectionStatus",{connected:!1});h(this,"eventListeners",new Map);h(this,"heartbeatInterval",null);this.url=t}detectWebSocketURL(){if(typeof window<"u"&&window.location){if(window.location.hostname==="localhost")return"ws://localhost:3001/ws";if(window.location.hostname.includes("testnet"))return"wss://api-testnet.knirv.com/ws"}return"wss://api.knirv.com/ws"}async connect(){return this.isConnecting||this.connectionStatus.connected?this.connectionStatus.connected:(this.isConnecting=!0,new Promise(t=>{try{this.ws=new WebSocket(this.url),this.ws.onopen=this.handleOpen.bind(this),this.ws.onmessage=this.handleMessage.bind(this),this.ws.onclose=this.handleClose.bind(this),this.ws.onerror=this.handleError.bind(this),setTimeout(()=>{this.connectionStatus.connected||(this.isConnecting=!1,t(!1))},1e4),this.ws.onopen=()=>{this.isConnecting=!1,t(!0)}}catch(n){console.error("WebSocket connection error:",n),this.isConnecting=!1,t(!1)}}))}disconnect(){this.isConnecting=!1,this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),this.ws&&(this.ws.close(1e3,"Client disconnect"),this.ws=null),this.connectionStatus={connected:!1}}send(t,n={}){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return!1;try{const r=JSON.stringify({type:t,data:n,timestamp:Date.now()});return this.ws.send(r),!0}catch(r){return console.error("Error sending WebSocket message:",r),!1}}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,[]),this.eventListeners.get(t).push(n)}off(t,n){if(!this.eventListeners.has(t))return;const r=this.eventListeners.get(t);if(n){const o=r.indexOf(n);o>-1&&r.splice(o,1)}else r.length=0}getConnectionStatus(){return{...this.connectionStatus}}setURL(t){this.url=t,this.connectionStatus.connected&&(this.disconnect(),this.connect())}handleOpen(){console.log("WebSocket connected to:",this.url),this.connectionStatus={connected:!0,url:this.url,lastPing:Date.now(),reconnectAttempts:0},this.reconnectAttempts=0,this.startHeartbeat(),this.emitEvent("connection:established",{connected:!0})}handleMessage(t){try{const n=JSON.parse(t.data);this.emitEvent(n.type,n.data),n.type==="heartbeat:pong"&&(this.connectionStatus.lastPing=Date.now())}catch(n){console.error("Error parsing WebSocket message:",n)}}handleClose(t){console.log("WebSocket disconnected:",t.code,t.reason),this.connectionStatus={connected:!1},this.ws=null,this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),this.emitEvent("connection:lost",{code:t.code,reason:t.reason}),t.code!==1e3&&this.reconnectAttempts<this.maxReconnectAttempts&&this.attemptReconnect()}handleError(t){console.error("WebSocket error:",t),this.emitEvent("connection:error",{error:t})}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{this.connectionStatus.connected&&this.send("heartbeat:ping",{timestamp:Date.now()})},3e4)}attemptReconnect(){this.reconnectAttempts++;const t=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log(`Attempting WebSocket reconnect ${this.reconnectAttempts}/${this.maxReconnectAttempts} in ${t}ms`),setTimeout(()=>{!this.connectionStatus.connected&&this.reconnectAttempts<this.maxReconnectAttempts&&this.connect()},t)}emitEvent(t,n){const r=this.eventListeners.get(t);if(r){const o={type:t,data:n,timestamp:Date.now()};r.forEach(c=>{try{c(o)}catch(x){console.error("Error in WebSocket event listener:",x)}})}}subscribeToAgent(t){this.on(`agent:${t}:status`,n=>{console.log("Agent status update:",n.data)}),this.on(`agent:${t}:performance`,n=>{console.log("Agent performance update:",n.data)})}subscribeToWallet(t){this.on(`wallet:${t}:transaction`,n=>{console.log("Wallet transaction update:",n.data)}),this.on(`wallet:${t}:balance`,n=>{console.log("Wallet balance update:",n.data)})}subscribeToAnalytics(t){this.on(`analytics:${t}:metrics`,n=>{console.log("Analytics metrics update:",n.data)})}subscribeToTask(t){this.on(`task:${t}:status`,n=>{console.log("Task status update:",n.data)}),this.on(`task:${t}:progress`,n=>{console.log("Task progress update:",n.data)})}unsubscribeFromEntity(t,n){const r=`${t}:${n}:`,o=[];this.eventListeners.forEach((c,x)=>{x.startsWith(r)&&o.push(x)}),o.forEach(c=>{this.eventListeners.delete(c)})}}const $=new Be,Me=i=>$.subscribeToWallet(i);function Pe(){const i=We(),[t,n]=a.useState(!1),[r,o]=a.useState([]),[c,x]=a.useState(!1),[ee,S]=a.useState(!1),[te,k]=a.useState(!1),[se,W]=a.useState(!1),[u,E]=a.useState(null),[ne,L]=a.useState(!1),[b,O]=a.useState(!1),[g,D]=a.useState(!1),[B,w]=a.useState(null),[M,p]=a.useState(null),[C,P]=a.useState(!1),[A,q]=a.useState(!1),[v,z]=a.useState(""),[F,ae]=a.useState("Credit Card"),[R,V]=a.useState(""),[N,Q]=a.useState(""),[U,Z]=a.useState(""),[re]=a.useState({knirvChain:"connected",knirvGraph:"connected",knirvNexus:"connecting",knirvGateway:"disconnected"}),[le]=a.useState([{agentId:"agent-1",name:"CodeT5-Alpha",version:"1.0.0",type:"wasm",status:"Available",capabilities:["code-generation","optimization"],nrnCost:85,metadata:{name:"CodeT5-Alpha",version:"1.0.0",description:"Code generation and optimization agent",author:"KNIRV Network",capabilities:["code-generation","optimization"],requirements:{memory:512,cpu:2,storage:100},permissions:["read","write"]},createdAt:new Date().toISOString()},{agentId:"agent-2",name:"SEAL-Beta",version:"1.0.0",type:"lora",status:"Available",capabilities:["learning","adaptation"],nrnCost:90,metadata:{name:"SEAL-Beta",version:"1.0.0",description:"Learning and adaptation agent",author:"KNIRV Network",capabilities:["learning","adaptation"],requirements:{memory:256,cpu:1,storage:50},permissions:["read"]},createdAt:new Date().toISOString()}]),[ie]=a.useState([]),[oe]=a.useState(null),[ce]=a.useState(1250),d={nrnBalance:1247,usdValue:312.75,change24h:5.2,walletAddress:"0x742d35Cc6aa34567...8B9fA2e1C4D"};a.useEffect(()=>((async()=>await $.connect()&&Me(d.walletAddress))(),()=>{$.disconnect()}),[d.walletAddress]);const de=[{id:"1",type:"consumption",amount:-25,description:"Code Analysis Skill",timestamp:"2024-08-06T01:15:00Z",agentName:"CodeT5-Alpha"},{id:"2",type:"reward",amount:50,description:"Task completion bonus",timestamp:"2024-08-06T00:45:00Z",agentName:"SEAL-Beta"},{id:"3",type:"consumption",amount:-30,description:"Task Orchestration",timestamp:"2024-08-05T23:20:00Z",agentName:"CodeT5-Alpha"},{id:"4",type:"transfer",amount:100,description:"Wallet funding",timestamp:"2024-08-05T22:10:00Z",agentName:null}],j=s=>{o(l=>l.filter(y=>y!==s))},he=()=>{L(!0),E({isActive:!0,timestamp:Date.now(),mode:"interactive"}),o(s=>s.includes("cognitive-shell")?s:[...s,"cognitive-shell"]),n(!1)},xe=()=>{o(s=>s.includes("network-status")?s.filter(l=>l!=="network-status"):[...s,"network-status"]),n(!1)},me=()=>{o(s=>s.includes("agent-management")?s.filter(l=>l!=="agent-management"):[...s,"agent-management"]),n(!1)},ue=async()=>{const s=d.walletAddress;try{await navigator.clipboard.writeText(s),W(!0),setTimeout(()=>W(!1),2e3)}catch(l){console.error("Failed to copy address:",l)}},ge=()=>{x(!0)},be=()=>{S(!0)},pe=()=>{k(!0)},Ne=async()=>{if(!v||parseFloat(v)<=0){w("Please enter a valid amount");return}O(!0),w(null);try{const s=await X.post("/wallet/add-funds",{amount:v,paymentMethod:F,currency:"USD"});if(Y(s)){w(_(s));return}P(!0),setTimeout(()=>{S(!1),P(!1),z("")},2e3)}catch{w("Failed to add funds. Please try again.")}finally{O(!1)}},je=async()=>{if(!R||!N||parseFloat(N)<=0){p("Please provide recipient address and valid amount");return}if(parseFloat(N)>d.nrnBalance){p("Insufficient balance");return}D(!0),p(null);try{const s=await X.post("/wallet/send-transaction",{recipient:R,amount:N,note:U||void 0});if(Y(s)){p(_(s));return}q(!0),setTimeout(()=>{k(!1),q(!1),V(""),Q(""),Z("")},2e3)}catch{p("Failed to send NRN. Please try again.")}finally{D(!1)}},ye=()=>{o(s=>s.includes("qr-scanner")?s.filter(l=>l!=="qr-scanner"):[...s,"qr-scanner"]),n(!1)},we=s=>{if(E(s),s&&typeof s=="object"&&"status"in s){const l=s;L(l.status==="active"||l.status==="learning")}},ve=(s,l)=>{console.log("Skill invoked:",s,l)},fe=s=>{console.log("Adaptation triggered:",s)},Se=(s,l)=>{console.log("Agent assigned:",l,"to NRV:",s)},ke=({isOpen:s,onToggle:l,children:y})=>e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:l,className:"bg-gray-800/80 hover:bg-gray-700/80 text-white p-3 rounded-lg shadow-lg transition-all duration-200 border border-gray-600/50 backdrop-blur-sm","aria-label":"Navigation menu",children:e.jsxs("div",{className:"w-5 h-5 flex flex-col justify-center items-center",children:[e.jsx("div",{className:`w-5 h-0.5 bg-white transition-all duration-300 ${s?"rotate-45 translate-y-1":""}`}),e.jsx("div",{className:`w-5 h-0.5 bg-white transition-all duration-300 mt-1 ${s?"opacity-0":""}`}),e.jsx("div",{className:`w-5 h-0.5 bg-white transition-all duration-300 mt-1 ${s?"-rotate-45 -translate-y-1":""}`})]})}),s&&e.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-gray-800/95 backdrop-blur-xl rounded-lg shadow-xl border border-gray-600/50 py-2 z-50",children:y})]}),m=({onClick:s,icon:l,children:y})=>e.jsxs("button",{onClick:s,className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-700/50 transition-colors text-white",children:[e.jsx("span",{className:"text-lg",children:l}),e.jsx("span",{className:"font-medium",children:y})]});return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-4 right-4 z-50",children:e.jsxs(ke,{isOpen:t,onToggle:()=>n(!t),children:[e.jsx(m,{onClick:()=>{i("/manager/skills"),n(!1)},icon:"\u26A1",children:"Skills"}),e.jsx(m,{onClick:()=>{i("/manager/udc"),n(!1)},icon:"\u{1F510}",children:"UDC"}),e.jsx(m,{onClick:ye,icon:"\u{1F4F1}",children:"QR Scanner"}),e.jsx(m,{onClick:he,icon:"\u{1F9E0}",children:"Cognitive Shell"}),e.jsx(m,{onClick:xe,icon:"\u{1F310}",children:"Network Status"}),e.jsx(m,{onClick:me,icon:"\u{1F916}",children:"Agent Management"}),e.jsx(m,{onClick:()=>{i("/"),n(!1)},icon:"\u{1F3E0}",children:"Input Interface"})]})}),e.jsx("div",{className:"max-w-6xl mx-auto p-4 pb-24 overflow-y-auto h-screen",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-4",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent mb-2",children:"KNIRV Wallet"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Manage your NRN tokens and transaction history"})]}),e.jsxs("div",{className:"bg-gray-800/80 border border-gray-600/50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center",children:e.jsx(K,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"NRN Balance"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Neural Resource Network"})]})]}),e.jsx("div",{className:"px-3 py-1 rounded-full bg-green-500/20 border border-green-500/30",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Re,{className:"w-3 h-3 text-green-400"}),e.jsxs("span",{className:"text-xs font-medium text-green-400",children:["+",d.change24h,"%"]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-3xl font-bold text-white",children:[d.nrnBalance.toLocaleString()," NRN"]}),e.jsxs("div",{className:"text-lg text-gray-300",children:["\u2248 $",d.usdValue.toFixed(2)," USD"]}),ne&&e.jsxs("div",{className:"flex items-center space-x-2 mt-2 px-2 py-1 bg-purple-600/20 border border-purple-500/30 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-xs text-purple-400",children:["Cognitive Mode: ",(u==null?void 0:u.mode)||"active"," | Status: ",u!=null&&u.isActive?"online":"offline"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Wallet Address"}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-800/80 border border-gray-600/50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center border border-blue-500/20",children:e.jsx(G,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-mono text-sm text-white",children:d.walletAddress}),e.jsx("p",{className:"text-xs text-gray-400",children:"KNIRV Network"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:ue,className:"p-2 hover:bg-gray-700/50 rounded-lg text-gray-400 hover:text-white transition-all",title:"Copy Address",children:se?e.jsx(Te,{className:"w-4 h-4 text-green-400"}):e.jsx(Ie,{className:"w-4 h-4"})}),e.jsx("button",{onClick:ge,className:"p-2 hover:bg-gray-700/50 rounded-lg text-gray-400 hover:text-white transition-all",title:"Show QR Code",children:e.jsx(H,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:be,className:"flex items-center justify-center space-x-3 py-4 bg-green-600/20 hover:bg-green-600/30 border border-green-500/30 rounded-lg text-green-400 hover:text-green-300 transition-all",children:[e.jsx(J,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Add Funds"})]}),e.jsxs("button",{onClick:pe,className:"flex items-center justify-center space-x-3 py-4 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 rounded-lg text-blue-400 hover:text-blue-300 transition-all",children:[e.jsx(T,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Send NRN"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recent Transactions"}),e.jsx("button",{className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:de.map(s=>e.jsx(qe,{...s},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-800/80 border border-gray-600/50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-green-400",children:"+127"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Earned Today"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-800/80 border border-gray-600/50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-red-400",children:"-89"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Spent Today"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-800/80 border border-gray-600/50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-blue-400",children:"15"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Transactions"})]})]})]})}),e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-20 border-t border-gray-600/50 backdrop-blur-xl bg-gray-900/80",children:e.jsxs("div",{className:"grid grid-cols-3 px-2 py-2",children:[e.jsxs("button",{onClick:()=>i("/manager/skills"),className:`flex flex-col items-center py-2 px-1 rounded-lg transition-colors ${window.location.pathname==="/manager/skills"?"text-blue-400 bg-blue-600/20":"text-gray-400 hover:text-white"}`,children:[e.jsx(K,{className:"w-5 h-5 mb-1"}),e.jsx("span",{className:"text-xs",children:"Skills"})]}),e.jsxs("button",{onClick:()=>i("/manager/udc"),className:`flex flex-col items-center py-2 px-1 rounded-lg transition-colors ${window.location.pathname==="/manager/udc"?"text-blue-400 bg-blue-600/20":"text-gray-400 hover:text-white"}`,children:[e.jsx($e,{className:"w-5 h-5 mb-1"}),e.jsx("span",{className:"text-xs",children:"UDC"})]}),e.jsxs("button",{onClick:()=>i("/manager/wallet"),className:`flex flex-col items-center py-2 px-1 rounded-lg transition-colors ${window.location.pathname==="/manager/wallet"?"text-blue-400 bg-blue-600/20":"text-gray-400 hover:text-white"}`,children:[e.jsx(G,{className:"w-5 h-5 mb-1"}),e.jsx("span",{className:"text-xs",children:"Wallet"})]})]})}),e.jsx(f,{id:"qr-scanner",isOpen:r.includes("qr-scanner"),onClose:()=>j("qr-scanner"),title:"QR Scanner",side:"right",children:e.jsx(De,{onScan:s=>console.log("QR Result:",s),onClose:()=>j("qr-scanner"),isOpen:r.includes("qr-scanner")})}),e.jsx(f,{id:"network-status",isOpen:r.includes("network-status"),onClose:()=>j("network-status"),title:"Network Status",side:"right",children:e.jsx(Ee,{connections:re})}),e.jsx(f,{id:"agent-management",isOpen:r.includes("agent-management"),onClose:()=>j("agent-management"),title:"Agent Management",side:"left",children:e.jsx(Le,{agents:le,nrvs:ie,selectedNRV:oe,onAgentAssignment:Se,nrnBalance:ce})}),e.jsx(f,{id:"cognitive-shell",isOpen:r.includes("cognitive-shell"),onClose:()=>j("cognitive-shell"),title:"Cognitive Shell",side:"right",children:e.jsx(Oe,{onStateChange:we,onSkillInvoked:ve,onAdaptationTriggered:fe})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 max-w-sm w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Wallet QR Code"}),e.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-700/50 rounded-lg text-gray-400 hover:text-white transition-all",children:e.jsx(I,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg mb-4",children:e.jsx("div",{className:"w-48 h-48 mx-auto bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(H,{className:"w-24 h-24 text-gray-600"})})}),e.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Scan this QR code to send funds to your wallet"}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-2 font-mono break-all",children:d.walletAddress})]})}),ee&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add Funds"}),e.jsx("button",{onClick:()=>S(!1),className:"p-2 hover:bg-gray-700/50 rounded-lg text-gray-400 hover:text-white transition-all",disabled:b,children:e.jsx(I,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[B&&e.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-400",children:B})}),C&&e.jsx("div",{className:"p-3 bg-green-500/20 border border-green-500/30 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-400",children:"Funds added successfully!"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount (NRN)"}),e.jsx("input",{type:"number",placeholder:"0.00",value:v,onChange:s=>z(s.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:border-blue-400 focus:outline-none",disabled:b,step:"0.01",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Payment Method"}),e.jsxs("select",{value:F,onChange:s=>ae(s.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:border-blue-400 focus:outline-none",disabled:b,children:[e.jsx("option",{children:"Credit Card"}),e.jsx("option",{children:"Bank Transfer"}),e.jsx("option",{children:"Crypto Transfer"})]})]}),e.jsx("button",{onClick:Ne,disabled:b||C,className:"w-full py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-all",children:b?"Processing...":C?"Success!":"Add Funds"})]})]})}),te&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Send NRN"}),e.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-700/50 rounded-lg text-gray-400 hover:text-white transition-all",disabled:g,children:e.jsx(I,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[M&&e.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-400",children:M})}),A&&e.jsx("div",{className:"p-3 bg-green-500/20 border border-green-500/30 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-400",children:"NRN sent successfully!"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recipient Address"}),e.jsx("input",{type:"text",placeholder:"0x...",value:R,onChange:s=>V(s.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:border-blue-400 focus:outline-none",disabled:g})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount (NRN)"}),e.jsx("input",{type:"number",placeholder:"0.00",value:N,onChange:s=>Q(s.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:border-blue-400 focus:outline-none",disabled:g,step:"0.01",min:"0",max:d.nrnBalance})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Note (Optional)"}),e.jsx("input",{type:"text",placeholder:"Payment for...",value:U,onChange:s=>Z(s.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:border-blue-400 focus:outline-none",disabled:g})]}),e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Network Fee:"}),e.jsx("span",{className:"text-white",children:"0.001 NRN"})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-400",children:"Available Balance:"}),e.jsxs("span",{className:"text-white",children:[d.nrnBalance.toLocaleString()," NRN"]})]})]}),e.jsx("button",{onClick:je,disabled:g||A,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-all",children:g?"Sending...":A?"Success!":"Send NRN"})]})]})})]})}function qe({type:i,amount:t,description:n,timestamp:r,agentName:o}){const c={consumption:{icon:T,color:"text-red-400",bg:"bg-red-500/20",border:"border-red-500/30",prefix:"-"},reward:{icon:J,color:"text-green-400",bg:"bg-green-500/20",border:"border-green-500/30",prefix:"+"},transfer:{icon:T,color:"text-blue-400",bg:"bg-blue-500/20",border:"border-blue-500/30",prefix:t>0?"+":"-"}}[i],x=c.icon;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/80 border border-gray-600/50 rounded-lg hover:border-purple-500/30 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 ${c.bg} ${c.border} border rounded-lg flex items-center justify-center`,children:e.jsx(x,{className:`w-5 h-5 ${c.color}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:n}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[o&&e.jsx("span",{children:o}),e.jsx("span",{children:"\u2022"}),e.jsx("span",{children:new Date(r).toLocaleTimeString()})]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:`font-semibold ${c.color}`,children:[c.prefix,Math.abs(t)," NRN"]})})]})}export{Pe as default};
